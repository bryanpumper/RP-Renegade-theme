<div class="list-collections grid grid--large grid--center">
  {%- assign grid_items_per_row = section.settings.grid_items_per_row -%}
	  {% for block in section.blocks %}
		  {% if block.type != 'media' %}{% continue %}{% endif %}
		  <div class="grid__cell 1/2--handheld-and-up 1/{{ grid_items_per_row }}--desk">
			{%- include 'media-item', block: block, grid_items_per_row: grid_items_per_row -%}
		  </div>
	  {% endfor %}
</div>

{% schema %}
{
  "name": "In The Media Page",
  "settings": [
    {
      "type": "range",
      "id": "grid_items_per_row",
      "min": 2,
      "max": 4,
      "step": 1,
      "label": "Item per row (desktop)",
      "default": 3
    }
  ],
  "blocks": [
    {
      "type": "media",
      "name": "Media",
      "settings": [
	  {
		  "type": "text",
		  "id": "title",
		  "label": "Title"
	  },
	  {
		  "type": "image_picker",
		  "id": "image",
		  "label": "Image"
	  },
	  {
		  "type": "url",
		  "id": "link",
		  "label": "Link"
	  },
	  {
		  "type": "textarea",
		  "id": "description",
		  "label": "Description"
	  }
      ]
    }
  ]
}
{% endschema %}